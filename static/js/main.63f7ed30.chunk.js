(this.webpackJsonpwallet=this.webpackJsonpwallet||[]).push([[0],{12:function(e,n,t){e.exports={header:"Header_header__3GTyp",mainMenu:"Header_mainMenu__2Ab3p",mainMenu__item:"Header_mainMenu__item__2EQyC",active:"Header_active__2fGqH"}},25:function(e,n,t){"use strict";t.d(n,"c",(function(){return C})),t.d(n,"a",(function(){return N})),t.d(n,"d",(function(){return I})),t.d(n,"e",(function(){return U}));var s=t(8),a=t.n(s),r=t(11),c=t(15),i=t(10),u=t(35),o=t.n(u),l={"messages-received":[]},d=null,f=function(){console.log("CLOSE")},g=function(e){var n=JSON.parse(e.data);l["messages-received"].forEach((function(e){return e(n)}))},b=function(){console.log("OPEN")},m=function(){console.log("REFRESH")},v=function(){var e,n,t,s;null===(e=d)||void 0===e||e.removeEventListener("close",f),null===(n=d)||void 0===n||n.removeEventListener("message",g),null===(t=d)||void 0===t||t.removeEventListener("open",b),null===(s=d)||void 0===s||s.removeEventListener("error",m)};var j=function(e){return Object(r.a)(a.a.mark((function n(){var t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.get("https://api.binance.com/api/v3/depth?symbol=".concat(e,"&limit=500"));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})))()},p=function(e){!function(e){var n;v(),null===(n=d)||void 0===n||n.close(),(d=new WebSocket("wss://stream.binance.com:9443/ws/".concat(e.toLowerCase(),"@depth"))).addEventListener("close",f),d.addEventListener("message",g),d.addEventListener("open",b),d.addEventListener("error",m)}(e)},h=function(){v(),d.close(),l["messages-received"]=[]},O=function(e,n){return l[e].push(n),function(){l[e]=l[e].filter((function(e){return e!==n}))}},_=function(e,n){l[e]=l[e].filter((function(e){return e!==n}))},x="trade/SET-GLASS",E="trade/MESSAGE-RECEVIED",w="trade/CLEAR-GLASS",y={symbol:"BTCUSDT",glass:{bind:[],asks:[]},messages:[]},S=function(e,n){return{type:x,payload:{glass:e,symbol:n}}},k=function(e){return{type:E,message:e}},L=function(){return{type:w}},C=function(e){return function(){var n=Object(r.a)(a.a.mark((function n(t){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j(e);case 2:s=n.sent,t(S(s,e));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},N=function(){return function(){var e=Object(r.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(L());case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},M=null,T=function(e){return null===M&&(M=function(n){e(k(n))}),M},I=function(e){return function(){var n=Object(r.a)(a.a.mark((function n(t){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:p(e),O("messages-received",T(t));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},U=function(){return function(){var e=Object(r.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_("messages-received",T(n)),h();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};n.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case x:return Object(i.a)(Object(i.a)(Object(i.a)({},e),n.payload),{},{messages:[]});case E:var t=function(){n.message.b=n.message.b.filter((function(e){return 0!=e[1]})).reverse(),n.message.a=n.message.a.filter((function(e){return 0!=e[1]})).reverse();var t=n.message.b,s=n.message.a;e.glass.bids=e.glass.bids.reverse(),e.glass.asks=e.glass.asks.reverse(),e.glass.bids.splice(e.glass.bids.length-t.length,t.length),e.glass.asks.splice(e.glass.asks.length-s.length,s.length),e.glass.bids=[].concat(Object(c.a)(t),Object(c.a)(e.glass.bids)),e.glass.asks=[].concat(Object(c.a)(s),Object(c.a)(e.glass.asks))};return n.message.u>e.glass.lastUpdateId&&(e.messages.length>0&&n.message.U===e.messages[e.messages.length-1].u+1||0===e.messages.length&&n.message.U<=e.glass.lastUpdateId+1&&n.message.u>=e.glass.lastUpdateId+1)?(t(),Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(c.a)(e.messages),[n.message])})):e;case w:return{state:y};default:return e}}},40:function(e,n,t){},41:function(e,n,t){},67:function(e,n,t){"use strict";t.r(n);var s=t(0),a=t.n(s),r=t(18),c=t.n(r),i=(t(40),t(41),t(14)),u=t(12),o=t.n(u),l=t(2),d=function(e){return Object(l.jsx)("header",{className:o.a.header,children:Object(l.jsxs)("div",{className:o.a.mainMenu,children:[Object(l.jsx)(i.b,{to:"/glass",className:o.a.mainMenu__item,activeClassName:o.a.active,children:"Glass"}),Object(l.jsx)(i.b,{to:"/diff",className:o.a.mainMenu__item,activeClassName:o.a.active,children:"Diff"})]})})},f=t(3),g=t(10);function b(e){return function(n){return Object(l.jsx)(s.Suspense,{fallback:Object(l.jsx)("div",{children:"loading..."}),children:Object(l.jsx)(e,Object(g.a)({},n))})}}var m=a.a.lazy((function(){return t.e(3).then(t.bind(null,76))})),v=a.a.lazy((function(){return t.e(4).then(t.bind(null,77))})),j=b(m),p=b(v);var h=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(d,{}),Object(l.jsx)("div",{className:"s.content",children:Object(l.jsxs)(f.c,{children:[Object(l.jsx)(f.a,{path:"/glass",render:function(){return Object(l.jsx)(j,{})}}),Object(l.jsx)(f.a,{path:"/diff",render:function(){return Object(l.jsx)(p,{})}})]})})]})},O=function(e){e&&e instanceof Function&&t.e(5).then(t.bind(null,75)).then((function(n){var t=n.getCLS,s=n.getFID,a=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),s(e),a(e),r(e),c(e)}))},_=t(24),x=t(17),E=t(34),w=t(25),y=Object(x.b)({trade:w.b}),S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.c,k=Object(x.d)(y,S(Object(x.a)(E.a)));window.__store__=k;var L=k;c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(_.a,{store:L,children:Object(l.jsx)(i.a,{children:Object(l.jsx)(h,{})})})}),document.getElementById("root")),O()}},[[67,1,2]]]);
//# sourceMappingURL=main.63f7ed30.chunk.js.map